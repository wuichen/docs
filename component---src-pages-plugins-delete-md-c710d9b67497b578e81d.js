(window.webpackJsonp=window.webpackJsonp||[]).push([[17,11,14],{DLHX:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",(function(){return b})),n.d(a,"default",(function(){return i}));n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("E5k/"),n("q1tI");var t=n("7ljp"),s=n("eW/1"),c=n("1Yd/"),o=n("LNQM");var b={},p={_frontmatter:b},m=s.a;function i(e){var a=e.components,n=function(e,a){if(null==e)return{};var n,t,s={},c=Object.keys(e);for(t=0;t<c.length;t++)n=c[t],a.indexOf(n)>=0||(s[n]=e[n]);return s}(e,["components"]);return Object(t.b)(m,Object.assign({},p,n,{components:a,mdxType:"MDXLayout"}),Object(t.b)(c.a,{title:"On Delete",mdxType:"SEO"}),Object(t.b)(o.a,{mdxType:"MdxCard"},Object(t.b)("h2",{id:"introduction"},"Introduction"),Object(t.b)("p",null,"This tool is built for ",Object(t.b)("a",Object.assign({parentName:"p"},{href:"https://prisma.io"}),"Prisma")),Object(t.b)("p",null,"Prisma Migrate cli not supported ",Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"Relation onDelete")," so this tool is workaround this option"),Object(t.b)("p",null,Object(t.b)("strong",{parentName:"p"},"CONTENT")),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#introduction"}),"Introduction")),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#install"}),"Install")),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#example"}),"Example"),Object(t.b)("ul",{parentName:"li"},Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#schemaprisma"}),Object(t.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"schema.prisma"))),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#use"}),"Use")))),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#prismadelete-class"}),Object(t.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"PrismaDelete")," class")),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#add-to-context"}),"Add to Context")),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"#have-questions"}),"Have questions?")))),Object(t.b)(o.a,{mdxType:"MdxCard"},Object(t.b)("h2",{id:"install"},"Install"),Object(t.b)("div",{className:"gatsby-highlight","data-language":"shell"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-shell"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"npm")," i @paljs/plugins")))),Object(t.b)(o.a,{mdxType:"MdxCard"},Object(t.b)("h2",{id:"example"},"Example"),Object(t.b)("p",null,"Use full example here ",Object(t.b)("a",Object.assign({parentName:"p"},{href:"/nexus/framework"}),Object(t.b)("code",Object.assign({parentName:"a"},{className:"language-text"}),"Nexus Framework"))," to fast start (prisma , nexus , typescript)"),Object(t.b)("p",null,"Specifies the deletion behavior and enables cascading deletes. In case a node with related nodes gets deleted, the deletion behavior determines what should happen to the related nodes. The input values for this argument are defined as an enum with the following possible values:"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"SET_NULL"),": Set the related node(s) to ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"null"),"."),Object(t.b)("li",{parentName:"ul"},Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"CASCADE"),": Delete the related node(s). Note that is not possible to set both ends of a bidirectional relation to ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"CASCADE"),".")),Object(t.b)("p",null,"To add onDelete Relation to any field just add comment before filed\n",Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"// @onDelete(CASCADE)")," or ",Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"// @onDelete(SET_NULL)")),Object(t.b)("h3",{id:"schemaprisma"},Object(t.b)("code",Object.assign({parentName:"h3"},{className:"language-text"}),"schema.prisma")),Object(t.b)("div",{className:"gatsby-highlight","data-language":"prisma"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-prisma"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-prisma"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"datasource"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," db")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  provider ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"sqlite"'),"\n  url      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"env"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"DATABASE_URL"'),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"generator"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," client")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  provider ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"prisma-client-js"'),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"model"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," User")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  id       ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),"       ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"autoincrement"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@id"),"\n  createdAt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," DateTime"),"  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"now"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  email    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," String"),"    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@unique"),"\n  name     ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," String"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?"),"\n  password ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," String"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// @onDelete(CASCADE)"),"\n  posts    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Post"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n  group    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Group"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?"),"    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@relation"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"fields",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"groupId",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," references",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"id",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  groupId  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// @onDelete(SET_NULL)"),"\n  comments ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Comment"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"model"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Post")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  id       ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),"       ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"autoincrement"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@id"),"\n  published",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Boolean"),"   ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token boolean"}),"false"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  title    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," String"),"\n  author   ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," User"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?"),"     ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@relation"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"fields",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"authorId",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," references",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"id",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  authorId ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// @onDelete(CASCADE)"),"\n  comments ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Comment"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n  createdAt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," DateTime"),"  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"now"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  updatedAt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," DateTime"),"  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@updatedAt"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"model"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Comment")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  id       ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),"      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"autoincrement"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@id"),"\n  contain  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," String"),"\n  post     ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Post"),"     ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@relation"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"fields",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"postId",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," references",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"id",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  postId   ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),"\n  author   ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," User"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?"),"    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@relation"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"fields",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"authorId",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," references",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"id",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  authorId ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?"),"\n  createdAt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," DateTime")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"now"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  updatedAt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," DateTime")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@updatedAt"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"model"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Group")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  id       ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," Int"),"      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"autoincrement"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@id"),"\n  name     ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," String"),"\n  createdAt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," DateTime")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@default"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"now"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n  updatedAt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," DateTime")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token annotation"}),"@updatedAt"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// @onDelete(SET_NULL)"),"\n  users    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"})," User"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"When a ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"User")," record gets deleted, all its related ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"posts")," records will be deleted as well and all its related ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"comments")," records will be ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"author")," ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"null"),"."),Object(t.b)("li",{parentName:"ul"},"When a ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"Post")," record gets deleted, it will simply be removed from the ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"posts")," list on the related ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"User")," record and all its related ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"comments")," records will be deleted.")),Object(t.b)("h3",{id:"use"},"Use"),Object(t.b)("p",null,"Here when we delete ",Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"user")," will go thought schema and look to model"),Object(t.b)("div",{className:"gatsby-highlight","data-language":"ts"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-ts"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"import")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"PrismaDelete",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'@paljs/plugins'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"import")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," schema ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'../prisma/schema'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\nt",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"field"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'deleteOneUser'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"type"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'User'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  nullable",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token boolean"}),"true"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  args",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    where",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"arg"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"type"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'UserWhereUniqueInput'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n      nullable",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token boolean"}),"false"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"resolve"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"_",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," where ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," prisma",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," select ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," prismaDelete ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"new")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"PrismaDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," schema",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"await")," prismaDelete",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"onDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," model",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'User'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," where ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"user",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"delete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n      where",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"..."),"select",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// normal resolver"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," resolvers ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  Query",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"deleteOneUser"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"_parent",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," where ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," prisma ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," prismaDelete ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"new")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"PrismaDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," schema",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"await")," prismaDelete",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"onDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," model",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'User'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," where ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),"user",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"delete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n        where",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n        ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"..."),"select",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"))))),Object(t.b)(o.a,{mdxType:"MdxCard"},Object(t.b)("h2",{id:"prismadelete-class"},Object(t.b)("code",Object.assign({parentName:"h2"},{className:"language-text"}),"PrismaDelete")," class"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"prisma")," prisma client class"),Object(t.b)("li",{parentName:"ul"},Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"schema")," schema as object converted by our ",Object(t.b)("a",Object.assign({parentName:"li"},{href:"/schema#convert-to-file"}),"schema cli"),".")),Object(t.b)("p",null,Object(t.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"prismaDelete.onDelete")," accept object"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"model")," model name like you define in ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"schema.prisma")),Object(t.b)("li",{parentName:"ul"},Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"where")," object to to find delete result same ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"{ id: 1}")),Object(t.b)("li",{parentName:"ul"},Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"deleteParent")," delete result from this model you pass ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"default: false")," you can send it ",Object(t.b)("code",Object.assign({parentName:"li"},{className:"language-text"}),"true")," to delete row and return delete row data")),Object(t.b)("div",{className:"gatsby-highlight","data-language":"ts"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-ts"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"await")," prismaDelete",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"onDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," model",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'User'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," where",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," deleteParent",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token boolean"}),"true")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(t.b)("h2",{id:"add-to-context"},"Add to Context"),Object(t.b)("div",{className:"gatsby-highlight","data-language":"ts"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-ts"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"import")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," PrismaClient",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," PrismaClientOptions ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'@prisma/client'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"import")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," PrismaDelete",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," onDeleteArgs ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'@paljs/plugins'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"import")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," schema ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"from")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'./schema'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"class")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Prisma")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"extends")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"PrismaClient")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"constructor"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"options",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),"?"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),":")," PrismaClientOptions"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"super"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"options",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"async")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"onDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"args",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token operator"}),":")," onDeleteArgs"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," prismaDelete ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"new")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"PrismaDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"this"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," schema",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"await")," prismaDelete",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"onDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"args",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," prisma ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"new")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Prisma"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"export")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"interface")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Context")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," Prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"export")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"createContext"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," Context ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"return")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(t.b)("p",null,"And you can use from context in resolves"),Object(t.b)("div",{className:"gatsby-highlight","data-language":"ts"},Object(t.b)("pre",Object.assign({parentName:"div"},{className:"language-ts"}),Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"resolve"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"_",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," where ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," prisma ",Object(t.b)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"await")," prisma",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"onDelete"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{")," model",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token string"}),"'User'"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," where",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," deleteParent",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token boolean"}),"true")," ",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"))))))}i.isMDXComponent=!0},LNQM:function(e,a,n){"use strict";var t=n("q1tI"),s=n.n(t),c=n("XDRZ"),o=n("vOnD"),b=n("uUQJ");function p(){var e=i(["\n    "," {\n      margin-top: -3.75rem;\n      padding-top: 4.75rem;\n      padding-right: 40px;\n      padding-left: 40px;\n    }\n    img {\n      text-align: center;\n      max-width: 100%;\n    }\n\n    li {\n      margin-top: 10px;\n    }\n\n    .note {\n      border-radius: 0.25rem;\n      margin-bottom: 1rem;\n      padding: 0.6rem;\n\n      .note-title {\n        font-weight: 500;\n        text-transform: uppercase;\n        margin-bottom: 1.5rem;\n      }\n\n      .note-body {\n        font-size: 0.875rem;\n        line-height: 1.5;\n      }\n\n      &.note-info,\n      &.note-info p {\n        color: ",";\n        background-color: #f0f6ff;\n      }\n\n      &.note-warning {\n        color: ",";\n        background-color: #fffae4;\n      }\n    }\n\n    .color-swatch {\n      display: inline-block;\n      border: 1px solid black;\n      width: 0.875rem;\n      height: 0.875rem;\n      margin-left: 7px;\n      margin-bottom: -2px;\n      border-radius: 2px;\n    }\n    p {\n      font-size: ",";\n      line-height: 1.5;\n    }\n    a {\n      color: ",";\n      font-weight: ",";\n      text-decoration: none;\n      &:hover {\n        color: ",";\n        text-decoration: underline;\n      }\n    }\n    .menu-items > .menu-item {\n      margin-bottom: 0.5rem;\n      font-weight: bold;\n      a:hover {\n        font-weight: bold;\n        text-decoration: none;\n      }\n      li {\n        font-size: 0.875rem;\n        font-weight: normal;\n      }\n      li.menu-group {\n        font-weight: bold;\n        padding-top: 1.25rem;\n        padding-bottom: 1rem;\n      }\n    }\n  "]);return p=function(){return e},e}function m(){var e=i(["\n  table {\n    ","\n  }\n  ","\n"]);return m=function(){return e},e}function i(e,a){return a||(a=e.slice(0)),e.raw=a,e}var r=Object(o.d)(c.h)(m(),(function(e){var a=e.theme;return Object(b.a)(a)}),(function(e){var a=e.theme;return Object(o.c)(p(),c.i,a.colorInfo600,a.colorWarning600,a.textParagraphFontSize,a.linkTextColor,a.cardTextFontWeight,a.linkTextHoverColor)}));a.a=function(e){var a=e.children;return s.a.createElement(r,null,s.a.createElement(c.i,null,a))}},uUQJ:function(e,a,n){"use strict";n.d(a,"a",(function(){return b}));var t=n("vOnD");function s(){var e=o(["\nwidth: 100%;\n","\n  &.striped {\n    tbody tr:nth-child(odd) {\n      background: ",";\n    }\n\n    td {\n      padding: 1rem 0.5rem;\n    }\n  }\n  .color-swatch {\n    display: inline-block;\n    border: 1px solid black;\n    width: 0.875rem;\n    height: 0.875rem;\n    margin-left: 7px;\n    margin-bottom: -2px;\n    border-radius: 2px;\n  }\n"]);return s=function(){return e},e}function c(){var e=o(["\n  border-spacing: 0;\n  tbody tr:nth-child(2n) {\n    background-color: ",";\n  }\n  tbody tr:hover {\n    background: "," !important;\n  }\n\n  thead tr {\n    background: ",";\n    th {\n      border-top: 1px solid ",";\n      border-left: 1px solid ",";\n      :last-child {\n        border-right: 1px solid ",";\n      }\n    }\n  }\n\n  tr {\n    :last-child {\n      td {\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  th,\n  td {\n    margin: 0;\n    padding: 0.5rem;\n    border-top: 1px solid ",";\n    border-left: 1px solid ",";\n    :last-child {\n      border-right: 1px solid ",";\n    }\n  }\n  td {\n    padding: 1rem 0.5rem;\n\n    &:first-child {\n      font-weight: 500;\n    }\n    a {\n      color: ",";\n      font-weight: ",";\n      text-decoration: none;\n      &:hover {\n        color: ",";\n        text-decoration: underline;\n      }\n    }\n  }\n\n"]);return c=function(){return e},e}function o(e,a){return a||(a=e.slice(0)),e.raw=a,e}var b=function(e){return Object(t.c)(c(),e.backgroundBasicColor2,e.backgroundBasicColor3,e.backgroundBasicColor2,e.backgroundBasicColor3,e.backgroundBasicColor3,e.backgroundBasicColor3,e.backgroundBasicColor2,e.backgroundBasicColor2,e.backgroundBasicColor2,e.backgroundBasicColor2,(function(e){return e.theme.linkTextColor}),(function(e){return e.theme.cardTextFontWeight}),(function(e){return e.theme.linkTextHoverColor}))},p=t.d.table(s(),(function(e){var a=e.theme;return b(a)}),(function(e){return e.theme.layoutBackgroundColor}));a.b=p}}]);
//# sourceMappingURL=component---src-pages-plugins-delete-md-c710d9b67497b578e81d.js.map